<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Golden Valley Wash Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
</head>
<body class="bg-gray-100 text-gray-800">
  <!-- Navbar -->
  <nav class="bg-blue-600 p-4 flex justify-between items-center rounded-b-2xl shadow-lg">
    <h1 class="text-white text-2xl font-bold">Golden Valley Wash Dashboard</h1>
    <button onclick="showPage('home')" class="bg-white text-blue-600 font-bold px-4 py-2 rounded-full shadow">Home</button>
  </nav>

  <!-- Overview Section -->
  <div class="grid grid-cols-1 md:grid-cols-3 gap-4 p-4">
    <div class="bg-white p-6 rounded-2xl shadow">
      <h2 class="text-xl font-bold mb-2">Today's Jobs</h2>
      <p id="jobCount">0 Jobs</p>
    </div>
    <div class="bg-white p-6 rounded-2xl shadow">
      <h2 class="text-xl font-bold mb-2">Estimates</h2>
      <p id="estimateCount">0 Estimates</p>
    </div>
    <div class="bg-white p-6 rounded-2xl shadow">
      <h2 class="text-xl font-bold mb-2">Invoices</h2>
      <p id="invoiceCount">0 Invoices</p>
    </div>
  </div>

  <!-- Main Dashboard -->
  <div id="home" class="grid grid-cols-1 md:grid-cols-4 gap-4 p-4">
    <div onclick="showPage('jobs')" class="bg-white p-6 rounded-2xl shadow cursor-pointer hover:bg-blue-50">
      <h2 class="font-bold">Today's Jobs</h2>
      <p>View and manage today's jobs.</p>
    </div>
    <div onclick="showPage('weather')" class="bg-white p-6 rounded-2xl shadow cursor-pointer hover:bg-blue-50">
      <h2 class="font-bold">Weather Forecast</h2>
      <p>Live weather for Fresno and Clovis.</p>
    </div>
    <div onclick="showPage('clock')" class="bg-white p-6 rounded-2xl shadow cursor-pointer hover:bg-blue-50">
      <h2 class="font-bold">Team Clock In/Out</h2>
      <p>Manage clock-ins and clock-outs.</p>
    </div>
    <div onclick="showPage('alerts')" class="bg-white p-6 rounded-2xl shadow cursor-pointer hover:bg-blue-50">
      <h2 class="font-bold">Urgent Alerts</h2>
      <p>Post urgent team alerts.</p>
    </div>
    <div onclick="showPage('finance')" class="bg-white p-6 rounded-2xl shadow cursor-pointer hover:bg-blue-50">
      <h2 class="font-bold">Financial Logs</h2>
      <p>Track finances and expenses.</p>
    </div>
    <div onclick="showPage('customers')" class="bg-white p-6 rounded-2xl shadow cursor-pointer hover:bg-blue-50">
      <h2 class="font-bold">Customer Manager</h2>
      <p>Handle customer details.</p>
    </div>
    <div onclick="showPage('estimates')" class="bg-white p-6 rounded-2xl shadow cursor-pointer hover:bg-blue-50">
      <h2 class="font-bold">Estimates</h2>
      <p>Create and approve estimates.</p>
    </div>
    <div onclick="showPage('invoices')" class="bg-white p-6 rounded-2xl shadow cursor-pointer hover:bg-blue-50">
      <h2 class="font-bold">Invoices</h2>
      <p>Manage and send invoices.</p>
    </div>
  </div>

  <!-- Pages -->
  <div id="jobs" class="hidden p-4"></div>
  <div id="weather" class="hidden p-4"></div>
  <div id="clock" class="hidden p-4"></div>
  <div id="alerts" class="hidden p-4"></div>
  <div id="finance" class="hidden p-4"></div>
  <div id="customers" class="hidden p-4"></div>
  <div id="estimates" class="hidden p-4"></div>
  <div id="invoices" class="hidden p-4"></div>

<script>
// Page Navigation
function showPage(page) {
  const pages = ['home', 'jobs', 'weather', 'clock', 'alerts', 'finance', 'customers', 'estimates', 'invoices'];
  pages.forEach(p => document.getElementById(p).classList.add('hidden'));
  document.getElementById(page).classList.remove('hidden');
}

// LocalStorage Helpers
function saveData(key, data) { localStorage.setItem(key, JSON.stringify(data)); }
function loadData(key) { return JSON.parse(localStorage.getItem(key)) || []; }

// Jobs Management
let jobs = loadData('jobs');
let completedJobs = loadData('completedJobs');
function renderJobs() {
  let html = `<h2 class='text-2xl font-bold mb-4'>Today's Jobs</h2>
    <input id='newJob' placeholder='New Job' class='border p-2 rounded w-full mb-2'>
    <button onclick='addJob()' class='bg-blue-600 text-white px-4 py-2 rounded'>Add Job</button>
    <h3 class='mt-6 text-xl font-bold'>Active Jobs</h3>`;
  jobs.forEach((job, i) => {
    html += `<div class='flex justify-between items-center border-b p-2'>
      ${job} <button onclick='completeJob(${i})' class='text-green-600'>Complete</button>
    </div>`;
  });
  html += `<h3 class='mt-6 text-xl font-bold'>Completed Jobs</h3>`;
  completedJobs.forEach(job => html += `<div class='border-b p-2 text-gray-500'>${job}</div>`);
  document.getElementById('jobs').innerHTML = html;
  document.getElementById('jobCount').innerText = `${jobs.length} Jobs`;
}
function addJob() {
  const job = document.getElementById('newJob').value;
  if (job) jobs.push(job);
  saveData('jobs', jobs);
  renderJobs();
}
function completeJob(index) {
  completedJobs.push(jobs.splice(index,1)[0]);
  saveData('jobs', jobs);
  saveData('completedJobs', completedJobs);
  renderJobs();
}

// Weather
async function fetchWeather() {
  const apiKey = 'YOUR_OPENWEATHER_API_KEY';
  const fresno = await axios.get(`https://api.openweathermap.org/data/2.5/weather?q=Fresno,US&units=imperial&appid=${apiKey}`);
  const clovis = await axios.get(`https://api.openweathermap.org/data/2.5/weather?q=Clovis,US&units=imperial&appid=${apiKey}`);
  document.getElementById('weather').innerHTML = `
    <h2 class='text-2xl font-bold mb-4'>Weather Forecast</h2>
    <div class='p-4 bg-white rounded-2xl shadow'>
      <h3 class='font-bold'>Fresno: ${fresno.data.main.temp}&deg;F - ${fresno.data.weather[0].description}</h3>
      <h3 class='font-bold'>Clovis: ${clovis.data.main.temp}&deg;F - ${clovis.data.weather[0].description}</h3>
      <button onclick='fetchWeather()' class='mt-4 bg-blue-600 text-white px-4 py-2 rounded'>Refresh</button>
    </div>`;
}

// Clock In/Out
let clockLog = loadData('clockLog');
function renderClock() {
  let html = `<h2 class='text-2xl font-bold mb-4'>Clock In/Out</h2>
    <input id='employeeName' placeholder='Your Name' class='border p-2 rounded w-full mb-2'>
    <button onclick='clockIn()' class='bg-green-600 text-white px-4 py-2 rounded'>Clock In</button>
    <button onclick='clockOut()' class='bg-red-600 text-white px-4 py-2 rounded ml-2'>Clock Out</button>
    <h3 class='mt-6 text-xl font-bold'>Log</h3>`;
  clockLog.forEach(log => html += `<div class='border-b p-2'>${log}</div>`);
  document.getElementById('clock').innerHTML = html;
}
function clockIn() {
  const name = document.getElementById('employeeName').value;
  clockLog.push(`${name} clocked in at ${new Date().toLocaleTimeString()}`);
  saveData('clockLog', clockLog);
  renderClock();
}
function clockOut() {
  const name = document.getElementById('employeeName').value;
  clockLog.push(`${name} clocked out at ${new Date().toLocaleTimeString()}`);
  saveData('clockLog', clockLog);
  renderClock();
}

// Other pages can be built similarly (alerts, finance, customers, estimates, invoices)

// Initialize
renderJobs();
fetchWeather();
renderClock();
</script>
</body>
</html>
